<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RSI Client - Crew Registration</title>

  <!-- Bootstrap 3 -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet" />
  <!-- FontAwesome 4 -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <!-- Select2 -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />

  <!-- Global + Page Styles -->
  <link rel="stylesheet" href="../assets/ripple.css">
  <link rel="stylesheet" href="page.css">
</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Side Stepper -->
      <div class="col-sm-3 side-stepper">
        <div class="text-center logo">
          <img src="../assets/Logo-White.png" alt="Ripple Logo" style="max-width:160px; height:auto;">
        </div>
        <div class="step active" data-step="1"><span class="step-number">1</span><span class="step-title">Personal Info</span></div>
        <div class="step" data-step="2"><span class="step-number">2</span><span class="step-title">Company Info</span></div>
        <div class="step" data-step="3"><span class="step-number">3</span><span class="step-title">Next of Kin</span></div>
        <div class="step" data-step="4"><span class="step-number">4</span><span class="step-title">Account Setup</span></div>
        <div class="step" data-step="5"><span class="step-number">5</span><span class="step-title">Review & Submit</span></div>
      </div>

      <!-- Main Form -->
      <div class="col-sm-9">
        <div class="main-content">
      <div class="page-header">
        <h2>Crew Registration</h2>
        <p>Please complete all steps to create your RSI account.</p>
      </div>
        <div class="registration-container">

          <form id="registrationForm">
            <!-- Step 1 -->
            <div class="form-section active" id="step1_reg">
              <h3><i class="fa fa-user"></i> Personal Information</h3>
              <div class="row">
                <div class="col-sm-6 form-group">
                  <label>First Name</label>
                  <input type="text" class="form-control" id="firstName">
                </div>
                <div class="col-sm-6 form-group">
                  <label>Surname</label>
                  <input type="text" class="form-control" id="lastName">
                </div>
              </div>
              <div class="row">
                <div class="col-sm-4 form-group">
                  <label>Gender</label>
                  <select class="form-control" id="gender">
                    <option></option><option>Male</option><option>Female</option><option>Other</option>
                  </select>
                </div>
                <div class="col-sm-4 form-group">
                  <label>Date of Birth</label>
                  <input type="date" class="form-control" id="dob">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Place of Birth</label>
                  <input type="text" class="form-control" id="birthPlace">
                </div>
              </div>
              <div class="form-group">
                <label>Nationality</label>
                <select class="form-control select2" id="nationality">
                  <option></option><option>Philippines</option><option>Norway</option><option>Greece</option>
                </select>
              </div>
              <div class="row">
                <div class="col-sm-6 form-group">
                  <label>Phone</label>
                  <input type="text" class="form-control" id="phone">
                </div>
                <div class="col-sm-6 form-group">
                  <label>Mobile</label>
                  <input type="text" class="form-control" id="mobile">
                </div>
              </div>
              <div class="form-group">
                <label>Residence Address</label>
                <input type="text" class="form-control" id="address">
              </div>
            </div>

            <!-- Step 2 -->
            <div class="form-section" id="step2_reg">
              <h3><i class="fa fa-building"></i> Company Information</h3>
              <div class="form-group">
                <label>Company</label>
                <input type="text" class="form-control" id="company">
              </div>
              <div class="form-group">
                <label>Position / Rank</label>
                <select class="form-control select2" id="rank">
                  <option></option>
                  <option>Captain</option><option>Chief Engineer</option>
                  <option>Deck Officer</option><option>Engineer</option>
                  <option>Electrician</option><option>AB Seaman</option><option>Other</option>
                </select>
              </div>
              <div class="form-group">
                <label>Emergency Contact Number in Company</label>
                <input type="text" class="form-control" id="emergencyContact">
              </div>
              <div class="form-group">
                <label>Passport Upload</label>
                <input type="file" class="form-control" id="passportFile">
              </div>
              <div class="upload-preview" id="passportPreview" style="display:none;">
                <img src="#" alt="Passport Preview">
              </div>
            </div>

            <!-- Step 3 -->
            <div class="form-section" id="step3_reg">
              <h3><i class="fa fa-users"></i> Next of Kin</h3>
              <h4>NOK 1</h4>
              <div class="row">
                <div class="col-sm-4 form-group">
                  <label>Relationship</label>
                  <select class="form-control" id="nok1Relation">
                    <option>Spouse</option><option>Parent</option><option>Sibling</option><option>Other</option>
                  </select>
                </div>
                <div class="col-sm-4 form-group">
                  <label>First Name</label>
                  <input type="text" class="form-control" id="nok1FirstName">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Surname</label>
                  <input type="text" class="form-control" id="nok1LastName">
                </div>
              </div>
              <div class="form-group">
                <label>Address</label>
                <input type="text" class="form-control" id="nok1Address">
              </div>
              <div class="form-group">
                <label>Residence</label>
                <select class="form-control select2" id="nok1Residence">
                  <option></option><option>Philippines</option><option>Norway</option>
                </select>
              </div>
              <div class="row">
                <div class="col-sm-4 form-group">
                  <label>Phone</label>
                  <input type="text" class="form-control" id="nok1Phone">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Mobile</label>
                  <input type="text" class="form-control" id="nok1Mobile">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Email</label>
                  <input type="email" class="form-control" id="nok1Email">
                </div>
              </div>
              <hr>
              <h4>NOK 2</h4>
              <div class="row">
                <div class="col-sm-4 form-group">
                  <label>Relationship</label>
                  <select class="form-control" id="nok2Relation">
                    <option>Sibling</option><option>Friend</option><option>Other</option>
                  </select>
                </div>
                <div class="col-sm-4 form-group">
                  <label>First Name</label>
                  <input type="text" class="form-control" id="nok2FirstName">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Surname</label>
                  <input type="text" class="form-control" id="nok2LastName">
                </div>
              </div>
              <div class="form-group">
                <label>Address</label>
                <input type="text" class="form-control" id="nok2Address">
              </div>
              <div class="form-group">
                <label>Residence</label>
                <select class="form-control select2" id="nok2Residence">
                  <option></option><option>Philippines</option><option>Norway</option>
                </select>
              </div>
              <div class="row">
                <div class="col-sm-4 form-group">
                  <label>Phone</label>
                  <input type="text" class="form-control" id="nok2Phone">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Mobile</label>
                  <input type="text" class="form-control" id="nok2Mobile">
                </div>
                <div class="col-sm-4 form-group">
                  <label>Email</label>
                  <input type="email" class="form-control" id="nok2Email">
                </div>
              </div>
            </div>

            <!-- Step 4 -->
            <div class="form-section" id="step4_reg">
              <h3><i class="fa fa-lock"></i> Account Setup</h3>
              <div class="form-group">
                <label>Email (Username)</label>
                <input type="email" class="form-control" id="email">
              </div>
              <div class="row">
                <div class="col-sm-6 form-group">
                  <label>Password</label>
                  <input type="password" class="form-control" id="password">
                </div>
                <div class="col-sm-6 form-group">
                  <label>Confirm Password</label>
                  <input type="password" class="form-control" id="confirmPassword">
                </div>
              </div>
            </div>

            <!-- Step 5 -->
            <div class="form-section" id="step5_reg">
              <h3><i class="fa fa-check-circle"></i> Review & Submit</h3>
              <div id="reviewContent">
                <p><strong>Name:</strong> <span id="reviewName"></span></p>
                <p><strong>Email:</strong> <span id="reviewEmail"></span></p>
                <p><strong>Company:</strong> <span id="reviewCompany"></span></p>
                <p><strong>Rank:</strong> <span id="reviewRank"></span></p>
                <p><strong>Passport:</strong> <span id="reviewPassport"></span></p>
                <p><strong>NOK1:</strong> <span id="reviewNok1"></span></p>
                <p><strong>NOK2:</strong> <span id="reviewNok2"></span></p>
              </div>
              <div class="checkbox">
                <label><input type="checkbox" id="confirmAccuracy"> I confirm all information is correct.</label>
              </div>
            </div>

            <!-- Success -->
            <div class="form-section" id="successScreen">
              <div class="success-message">
                <i class="fa fa-check fa-3x text-success"></i>
                <h3>Registration Complete!</h3>
                <p>You can now log in to your <strong>RSI Dashboard</strong> to continue onboarding:</p>
                <ul class="list-unstyled">
                  <li><i class="fa fa-upload"></i> Upload Certificates (bulk upload)</li>
                  <li><i class="fa fa-shield"></i> Review and Accept GDPR Policy</li>
                  <li><i class="fa fa-video-camera"></i> Watch Familiarization Video</li>
                </ul>
                <a href="dashboard.html" class="btn btn-primary">Go to Dashboard</a>
              </div>
            </div>

            <!-- Footer Buttons -->
            <div class="footer-buttons">
              <button type="button" class="btn btn-default" id="prevBtn">Previous</button>
              <button type="button" class="btn btn-primary" id="nextBtn">Next</button>
              <button type="submit" class="btn btn-success" id="submitBtn" style="display:none;">Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.full.min.js"></script>

  <script>
    $(function () {
      $(".select2").select2({ width: "100%" });

      let currentStep = 1;
      const totalSteps = 5;

      function showStep(n) {
        $(".form-section").removeClass("active").hide();
        $("#step" + n + "_reg").addClass("active").show();

        $(".step").removeClass("active");
        $('.step[data-step="' + n + '"]').addClass("active");

        $(".step").each(function () {
          const stepNum = $(this).data("step");
          if (stepNum < n) {
            $(this).addClass("completed");
            $(this).find(".step-number").html('<i class="fa fa-check"></i>');
          } else if (stepNum === n) {
            $(this).removeClass("completed");
            $(this).find(".step-number").text(stepNum);
          } else {
            $(this).removeClass("completed");
            $(this).find(".step-number").text(stepNum);
          }
        });

        $("#prevBtn").toggle(n > 1);
        $("#nextBtn").toggle(n < totalSteps);
        $("#submitBtn").toggle(n === totalSteps);
      }

      function populateReview() {
        $("#reviewName").text($("#firstName").val() + " " + $("#lastName").val());
        $("#reviewEmail").text($("#email").val());
        $("#reviewCompany").text($("#company").val());
        $("#reviewRank").text($("#rank").val());
        $("#reviewPassport").text($("#passportFile")[0].files.length ? "Uploaded" : "Not Uploaded");
        $("#reviewNok1").text($("#nok1FirstName").val() + " " + $("#nok1LastName").val() + " (" + $("#nok1Relation").val() + ")");
        $("#reviewNok2").text($("#nok2FirstName").val() + " " + $("#nok2LastName").val() + " (" + $("#nok2Relation").val() + ")");
      }

      $("#nextBtn").on("click", function () {
        if (currentStep < totalSteps) {
          currentStep++;
          if (currentStep === 5) populateReview();
          showStep(currentStep);
        }
      });

      $("#prevBtn").on("click", function () {
        if (currentStep > 1) {
          currentStep--;
          showStep(currentStep);
        }
      });

      $(".step").on("click", function () {
        const s = $(this).data("step");
        currentStep = s;
        if (s === 5) populateReview();
        showStep(s);
      });

      $("#registrationForm").on("submit", function (e) {
        e.preventDefault();
        $(".form-section").removeClass("active").hide();
        $("#successScreen").addClass("active").show();
        $(".footer-buttons").hide();

        $(".step").each(function () {
          $(this).addClass("completed");
          $(this).find(".step-number").html('<i class="fa fa-check"></i>');
        });
      });

      showStep(currentStep);
    });
  </script>
</body>
</html>
