<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>RSI Crew â€¢ Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Libs -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />

  <!-- Ripple core + Page CSS -->
  <link href="../assets/ripple.css" rel="stylesheet" />
  <link href="page.css" rel="stylesheet" />

  <style>
    .panel-profile {
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
      padding: 20px;
      background: #fff;
    }

    .panel-profile .profile-photo {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border: 3px solid #3F91FF;
      margin-bottom: 10px;
    }

    .panel-profile .crew-name {
      margin: 5px 0;
      font-weight: 600;
      font-size: 1.4em;
    }

    .panel-profile .crew-rank {
      color: #5D7FAC;
      margin-bottom: 5px;
    }

    .panel-profile .crew-company {
      font-size: 0.9em;
      color: #777;
    }

    /* Align edit button with tabs */
    .tab-actions {
      float: right;
      margin-top: -35px;
    }

    .tab-actions .btn {
      margin-left: 5px;
    }
  </style>
</head>

<body>
   <button type="button" id="sidebar-toggle" class="mobile-toggle">
    <i class="fa fa-bars"></i>
  </button>
  <div class="container-fluid dashboard-layout">
    <div class="row">
      <!-- Sidebar -->
      <div id="sidebar-placeholder" class="col-sm-3 col-md-2 sidebar"></div>


      <!-- Main -->
      <div class="main-content col-sm-9 col-md-10">
        <div class="page-header">
          <h2>Profile</h2>
          <p>View and maintain your registration details. Click <b>Edit</b> to update any section.</p>
        </div>

        <!-- Nav tabs -->
        <ul class="nav nav-tabs" role="tablist">
          <li class="active"><a href="#personal" role="tab" data-toggle="tab"><i class="fa fa-user"></i> Personal</a></li>
          <li><a href="#nok1" role="tab" data-toggle="tab"><i class="fa fa-users"></i> NOK 1</a></li>
          <li><a href="#nok2" role="tab" data-toggle="tab"><i class="fa fa-users"></i> NOK 2</a></li>
          <li><a href="#company" role="tab" data-toggle="tab"><i class="fa fa-building"></i> Company</a></li>
        </ul>

        <!-- Edit/Save/Cancel Controls -->
        <div class="tab-actions">
          <button id="cancelBtn" class="btn btn-default btn-sm" style="display:none;">
            <i class="fa fa-times"></i> Cancel
          </button>
          <button id="editSaveBtn" class="btn btn-primary btn-sm">
            <i class="fa fa-pencil"></i> Edit
          </button>
        </div>

        <!-- Tab panes -->
        <div class="tab-content">

          <!-- Personal -->
          <div class="tab-pane active" id="personal">
            <div class="panel panel-default">
              <div class="panel-heading">
                <i class="fa fa-user"></i> Personal Information
              </div>
              <div class="panel-body">
                <form id="personalForm">
                  <div class="row">
                    <div class="col-sm-6 form-group">
                      <label>First Name</label>
                      <input type="text" class="form-control" value="Cloud" readonly>
                    </div>
                    <div class="col-sm-6 form-group">
                      <label>Surname</label>
                      <input type="text" class="form-control" value="Strife" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>Gender</label>
                      <input type="text" class="form-control" value="Male" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Date of Birth</label>
                      <input type="date" class="form-control" value="1986-08-11" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Place of Birth</label>
                      <input type="text" class="form-control" value="Nibelheim" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6 form-group">
                      <label>Nationality</label>
                      <input type="text" class="form-control" value="Filipino" readonly>
                    </div>
                    <div class="col-sm-6 form-group">
                      <label>Residence Address</label>
                      <input type="text" class="form-control" value="123 Port Street, Manila" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>Phone</label>
                      <input type="text" class="form-control" value="+63 2 123 4567" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Mobile</label>
                      <input type="text" class="form-control" value="+63 917 123 4567" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Email (Username)</label>
                      <input type="email" class="form-control" value="cloud.strife@email.com" readonly>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- NOK 1 -->
          <div class="tab-pane" id="nok1">
            <div class="panel panel-default">
              <div class="panel-heading"><i class="fa fa-users"></i> Next of Kin 1</div>
              <div class="panel-body">
                <form id="nok1Form">
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>Relationship</label>
                      <input type="text" class="form-control" value="Mother" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>First Name</label>
                      <input type="text" class="form-control" value="Claudia" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Surname</label>
                      <input type="text" class="form-control" value="Strife" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6 form-group">
                      <label>Address</label>
                      <input type="text" class="form-control" value="Nibelheim, Philippines" readonly>
                    </div>
                    <div class="col-sm-6 form-group">
                      <label>Residence</label>
                      <input type="text" class="form-control" value="Philippines" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>Phone</label>
                      <input type="text" class="form-control" value="+63 32 555 6789" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Mobile</label>
                      <input type="text" class="form-control" value="+63 917 987 6543" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Email</label>
                      <input type="email" class="form-control" value="claudia.strife@email.com" readonly>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- NOK 2 -->
          <div class="tab-pane" id="nok2">
            <div class="panel panel-default">
              <div class="panel-heading"><i class="fa fa-users"></i> Next of Kin 2</div>
              <div class="panel-body">
                <form id="nok2Form">
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>Relationship</label>
                      <input type="text" class="form-control" value="Friend" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>First Name</label>
                      <input type="text" class="form-control" value="Tifa" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Surname</label>
                      <input type="text" class="form-control" value="Lockhart" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-6 form-group">
                      <label>Address</label>
                      <input type="text" class="form-control" value="Sector 7, Midgar" readonly>
                    </div>
                    <div class="col-sm-6 form-group">
                      <label>Residence</label>
                      <input type="text" class="form-control" value="Philippines" readonly>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-4 form-group">
                      <label>Phone</label>
                      <input type="text" class="form-control" value="+63 2 555 2222" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Mobile</label>
                      <input type="text" class="form-control" value="+63 917 555 2222" readonly>
                    </div>
                    <div class="col-sm-4 form-group">
                      <label>Email</label>
                      <input type="email" class="form-control" value="tifa@email.com" readonly>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>

          <!-- Company -->
          <div class="tab-pane" id="company">
            <div class="panel panel-default">
              <div class="panel-heading"><i class="fa fa-building"></i> Company & Emergency Contact</div>
              <div class="panel-body">
                <form id="companyForm">
                  <div class="form-group">
                    <label>Company</label>
                    <input type="text" class="form-control" value="Ripple Shipping Inc." readonly>
                  </div>
                  <div class="form-group">
                    <label>Position / Rank</label>
                    <input type="text" class="form-control" value="Chief Engineer" readonly>
                  </div>
                  <div class="form-group">
                    <label>Emergency Contact (Company)</label>
                    <input type="text" class="form-control" value="+63 2 765 4321" readonly>
                  </div>
                </form>
              </div>
            </div>
          </div>

        </div><!-- /tab-content -->
      </div>
    </div>
  </div>

  <!-- JS -->
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<script>
    $(function () {
       $('#sidebar-toggle').on('click', function () {
        $('.sidebar').toggleClass('active');
      });
        // Sidebar
        fetch('crew-sidebar.html')
            .then(res => res.text())
            .then(html => {
                $('#sidebar-placeholder').html(html);
                $('[data-page="crew-registration"]').addClass('active');
            });

        let isEditing = false;
        let originalValues = {};

        // Toggle edit/save
        $('#editSaveBtn').on('click', function () {
            const inputs = $('.tab-content').find('input');

            if (!isEditing) {
                // Store all original values
                originalValues = {};
                inputs.each(function (i) {
                    const key = $(this).attr('name') || `field-${i}`;
                    originalValues[key] = $(this).val();
                });

                // Enable all fields
                inputs.prop('readonly', false);
                isEditing = true;
                $('#cancelBtn').show();
                $(this).html('<i class="fa fa-save"></i> Save')
                    .removeClass('btn-primary')
                    .addClass('btn-success');
            } else {
                // Save mode
                inputs.prop('readonly', true);
                isEditing = false;
                $('#cancelBtn').hide();
                $(this).html('<i class="fa fa-pencil"></i> Edit')
                    .removeClass('btn-success')
                    .addClass('btn-primary');
                alert('All changes saved successfully');
            }
        });

        // Cancel button
        $('#cancelBtn').on('click', function () {
            const inputs = $('.tab-content').find('input');

            // Restore original values
            inputs.each(function (i) {
                const key = $(this).attr('name') || `field-${i}`;
                if (originalValues[key] !== undefined) {
                    $(this).val(originalValues[key]);
                }
            });

            inputs.prop('readonly', true);
            isEditing = false;
            $('#cancelBtn').hide();
            $('#editSaveBtn').html('<i class="fa fa-pencil"></i> Edit')
                .removeClass('btn-success')
                .addClass('btn-primary');
        });
    });
</script>


</body>
</html>
